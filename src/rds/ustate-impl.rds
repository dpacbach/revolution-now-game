--[[ ------------------------------------------------------------
|
| ustate-impl.rds
|
| Project: Revolution Now
|
| Created by dsicilia on 2020-11-13.
|
| Description: Private RDS definitions for the ustate module.
|
--]] ------------------------------------------------------------
include 'coord.hpp'
include 'id.hpp'

-- Rds
include 'rds/ustate.hpp'

-- Flatbuffers
include 'fb/sg-unit_generated.h'

namespace 'rn'

UnitState = sumtype{
  {free={}},
  {world={
    {coord='Coord' },
  }},
  {cargo={
    {holder='UnitId' },
  }},
  {old_world={
    {st='UnitOldWorldViewState_t' },
  }},
  {colony={
    {id='ColonyId' },
  }},

  [features_key]={'formattable', 'serializable', 'equality' }
}
