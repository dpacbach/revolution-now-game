--[[ ------------------------------------------------------------
|
| ustate-impl.rds
|
| Project: Revolution Now
|
| Created by dsicilia on 2020-11-13.
|
| Description: Private RDS definitions for the ustate module.
|
--]] ------------------------------------------------------------
include'coord.hpp'
include'id.hpp'

-- Rds
include'rds/ustate.hpp'

-- Flatbuffers
include'fb/sg-unit_generated.h'

namespace'rn'

UnitState = sumtype{
  alt{ free={} },
  alt{ world={ var{ coord='Coord' } } },
  alt{ cargo={ var{ holder='UnitId' } } },
  alt{ old_world={ var{ st='UnitOldWorldViewState_t' } } },
  alt{ colony={ var{ id='ColonyId' } } },

  [features_key]={ 'formattable', 'serializable', 'equality' }
}
