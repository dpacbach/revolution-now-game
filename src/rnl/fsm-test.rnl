# ===============================================================
# fsm-test.rnl
#
# Project: Revolution Now
#
# Created by dsicilia on 2020-11-13.
#
# Description: RNL definitions for the fsm unit test.
#
# ===============================================================
namespace rn;

sumtype ColorState {
  .features:
    comparison,
    formattable;

  red:
  light_red:
  dark_red:
  blue:
  light_blue:
  dark_blue:
  yellow:
  light_yellow:
  dark_yellow:
};

sumtype ColorEvent {
  .features:
    formattable;

  light:
  dark:
  rotate:
};

sumtype TColorState {
  .template: T, U;

  .features:
    comparison,
    formattable;

  red:
  light_red:
    U n;
  dark_red:
  blue:
  light_blue:
  dark_blue:
  yellow:
  light_yellow:
  dark_yellow:
};

sumtype TColorEvent {
  .template: T, U;

  .features:
    formattable;

  light:
    U n;
  dark:
  rotate:
};

sumtype BallState {
  .features:
    comparison,
    formattable;

  none:
  bouncing:
    int height;
  rolling:
    int speed;
  spinning:
};

sumtype BallEvent {
  .features:
    formattable;

  do_nothing:
  start_bouncing:
    int height;
  stop_bouncing:
  start_rolling:
    int speed;
  stop_rolling:
  start_spinning:
  stop_spinning:
};
